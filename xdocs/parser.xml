<?xml version="1.0"?>
<document>

  <properties>
    <author email="jbjk@mac.com">John Keyes</author>
    <title>Creating a command line parser</title>
  </properties>

  <body>
    <section name="Creating a Parser">
      <p>
        The 
        <a href="apidocs/org/apache/commons/cli/CommandLineParserFactory.html#newParser()">newParser</a> 
        method on <a href="apidocs/org/apache/commons/cli/CommandLineParserFactory.html">
        CommandLineParserFactory</a> is used to create command line
        parser instances.
      </p>
      <source>
// create a command line parser
CommandLineParser parser = CommandLineParserFactory.newParser();</source>
    </section>
    <section name="The right tool for the job">
      <p>
        Different applications may require different parsing implementation
        strategies.  CLI ships with two implementations: <a href="apidocs/org/apache/commons/cli/PosixParser.html">
        PosixParser</a> and <a href="apidocs/org/apache/commons/cli/GnuParser.html">
        GnuParser</a>.  Both of these implement the <a href="apidocs/org/apache/commons/cli/CommandLineParser.html">
        CommandLineParser</a> interface.  
      </p>
      <p>
        The parser implementation is specified using the 
        <code>org.apache.commons.cli.parser</code> system property.  This is set
        to be the <a href="apidocs/org/apache/commons/cli/PosixParser.html">PosixParser</a>
        by default.
      </p>
      <source>
// parser is a PosixParser
CommandLineParser parser = CommandLineParserFactory.newParser();

// configure CLI to use the GNU Parser
System.setProperty( "org.apache.commons.cli.parser",
                    "org.apache.commons.cli.GnuParser" );

// parser is a GnuParser 
parser = CommandLineParserFactory.newParser();

// configure CLI to use the Posix Parser
System.setProperty( "org.apache.commons.cli.parser",
                    "org.apache.commons.cli.PosixParser" );
      
// parser is a PosixParser 
parser = CommandLineParserFactory.newParser();
      </source>
    </section>
    <section name="Parse the command line">
      <p>
        Now that a parser has been created the command line tokens can be
        parsed.  The two <code>parse</code> methods on 
        <a href="apidocs/org/apache/commons/cli/CommandLineParser.html">CommandLineParser</a>
        perform this task.
      </p>
      <source>
public static void main( String[] args ) {
    // create the options
    Options options = ...;

    // create the parser
    CommandLine parser = ...;

    // parse the command line tokens
    CommandLine cmd = parser.parse( options, args );
}</source>
    </section>
  </body>
</document>
